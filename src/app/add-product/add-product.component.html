<div class="container mt-4">
  <p class="d-inline-flex gap-1">
    <a class="btn btn-primary" data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false"
      aria-controls="collapseExample">
      Add Product
    </a>

    <!-- Template driven -->
    <!-- <div class="collapse container" id="collapseExample">
      <div class="card card-body">
        <form #form="ngForm" (ngSubmit)="onSubmit(form)" >
          <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Name</label>
            <input 
            #name="ngModel"  minlength="4" required name="name" [(ngModel)]="newProduct.name" type="text" class="form-control " id="exampleInputEmail1"
              aria-describedby="emailHelp"
            [ngClass]="{
              'border-danger': (name.errors && name.touched) || (name.errors && form.submitted)
            }"
              >

            <div *ngIf="(name.errors && name.touched) || (name.errors && form.submitted)">
              <p *ngIf="name.errors['required']" class="text-danger">Name is compulsory</p>
              <p *ngIf="name.errors['minlength']" class="text-danger">Name must contain atleast 4 letter</p>
            </div>
          </div>
          <div class="mb-3">
            <label for="exampleInputPassword1" class="form-label">Description</label>
            <input name="decription" [(ngModel)]="newProduct.decription" type="text" class="form-control"
              id="exampleInputPassword1">
          </div>
          <div class="mb-3">
            <label for="exampleInputPassword1" class="form-label">Price</label>
            <input name="price" [(ngModel)]="newProduct.price" type="number" class="form-control"
              id="exampleInputPassword1">
          </div>
  
          <button 
            type="submit" 
            class="btn btn-primary d-flex align-items-center gap-2" 
            [disabled]="isSubmitting"
            [class.btn-loading]="isSubmitting">
            <span class="spinner-border spinner-border-sm" *ngIf="isSubmitting" role="status" aria-hidden="true"></span>
            {{ isSubmitting ? 'Adding Product...' : 'Add Product' }}
          </button>
        </form>
      </div>
    </div> -->
  <div class="collapse container" id="collapseExample">
    <div class="card card-body">
      <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <label for="exampleInputEmail1" class="form-label">Name</label>
          <input formControlName="name"  type="text" class="form-control "
            id="exampleInputEmail1" aria-describedby="emailHelp">
            <div *ngIf="(name?.errors && name?.touched) || (name?.errors && submitted)">
              <p *ngIf="name?.errors?.['required']" class="text-danger">Name is compulsory</p>
              <p *ngIf="name?.errors?.['minlength']" class="text-danger">Name must contain atleast 4 letter</p>
            </div>
        </div>
        <div class="mb-3">
          <label for="exampleInputPassword1" class="form-label">Description</label>
          <input formControlName="description"  type="text" class="form-control"
            id="exampleInputPassword1">
        </div>
        <div class="mb-3">
          <label for="exampleInputPassword1" class="form-label">Price</label>
          <input formControlName="price" type="number" class="form-control"
            id="exampleInputPassword1">
        </div>

        <button type="submit" class="btn btn-primary d-flex align-items-center gap-2" [disabled]="isSubmitting"
          [class.btn-loading]="isSubmitting">
          Submit
        </button>
      </form>
    </div>
  </div>
</div>